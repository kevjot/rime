# Rime schema
# encoding: utf-8

schema:
    schema_id: chinese_flypy_xhyx
    name: '小鹤音形·定制'
    version: '0.1'
    author:
        - double pinyin layout by 鶴
        - Modified by Kevin <kevobras@gmail.com>
    description: |

    # dependencies:
    # - english

switches:
    - name: traditionalization
      reset: 0
      # states: [ 简, 繁 ]
    - name: emoji_suggestion
      reset: 0
      # states: [ "😑️", "😁️" ]
    - name: ascii_punct
      reset: 1
      # states: [ 。，, ．， ]
    - name: full_shape
      reset: 0
      # states: [ 半, 全 ]
    - name: ascii_mode
      reset: 0
      # states: [ 中, 英 ]

engine:
    processors:
        - ascii_composer # Windows 用户请解除此行注释，否则将会无法切换到英文输入
        - recognizer
        # - lua_processor@select_character_processor # lua 选词扩展，如需关闭请注释
        - key_binder
        - speller
        - selector
        - punctuator
        - navigator
        - express_editor
    segmentors:
        - ascii_segmentor
        - matcher
        - abc_segmentor
        - punct_segmentor
        - fallback_segmentor
    translators:
        - table_translator
        - punct_translator
        # - lua_translator@date_translator # 动态日期时间输入
        - table_translator@custom_phrase # 用户自定义词典
        # - table_translator@english # 英文输入
        # - reverse_lookup_translator
        - script_translator
        # - echo_translator
    filters:
        - uniquifier
        - simplifier@emoji_suggestion
        - simplifier@traditionalize # 简入繁出
        # - lua_filter@long_phrase_first # 最长词组和单字在先
        # - lua_filter@single_char_first # 单字优先
        # - lua_filter@single_char_only # 只显示单字

emoji_suggestion:
    opencc_config: emoji.json
    option_name: emoji_suggestion
    tips: all

english:
    dictionary: english
    enable_completion: true
    enable_sentence: false
    initial_quality: -1 # 初始权重, 英文词库与双拼重码时英文置后显示
    comment_format: # 自定义提示码
        - xform/.*// # 清空提示码

speller:
    alphabet: zyxwvutsrqponmlkjihgfedcbaZYXWVUTSRQPONMLKJIHGFEDCBA/`
    finals: "'"
    # delimiter: " '"
    # algebra:

translator:
    dictionary: chinese_flypy_xhyx
    prism: chinese_flypy_xhyx # 值与id相同, 如果去掉会变全拼
    enable_encoder: false
    encode_commit_history: false
    enable_sentence: false
    enable_user_dict: false
    contextual_suggestions: true
    spelling_hints: 9

traditionalize:
    option_name: traditionalization
    opencc_config: s2t.json # s2t.json | s2hk.json | s2tw.json | s2twp.json  # 如果选择台湾繁体，长句子正常，但1~2个字时无法正确转换台湾繁体，仍然显示香港繁体，不知道为啥。
    tips: all # 转换提示: all 都显示 | char 仅单字显示 | none 不显示。

punctuator:
    import_preset: symbols
    full_shape:
        '`': '｀'
        '~': '～'
        '!': '！'
        '@': '＠'
        '#': '＃'
        '$': '￥'
        '%': '％'
        '^': '……'
        '&': '＆'
        '*': '×'
        '(': '（'
        ')': '）'
        '_': '——'
        '+': '＋'
        '-': '－'
        '=': '＝'
        '[': '【'
        ']': '】'
        '{': '｛'
        '}': '｝'
        '|': '｜'
        "\\": '、'
        # "/": "、"
        ';': '；'
        "'": '‘'
        ',': '，'
        '.': '。'
        '<': '《'
        '>': '》'
        '?': '？'
        '1': '壹'
        '2': '貳'
        '3': '參'
        '4': '肆'
        '5': '伍'
        '6': '陸'
        '7': '柒'
        '8': '捌'
        '9': '玖'
        '0': '零'
        's': '拾'
        'b': '佰'
        'q': '仟'
        'w': '萬'
        'n': '年'
        'y': ['月', '圓', '億']
        'r': '日'
        'x': '星期'
        'j': '角'
        'f': '分'
        'z': ['之', '整']
        'd': '第'
        'h': '號'
    half_shape:
        '`': '·'
        '~': '～'
        '!': '！'
        '@': '@'
        '#': '#'
        '$': '￥'
        '%': '%'
        '^': '……'
        '&': '&'
        '*': '×'
        '(': '（'
        ')': '）'
        '_': '——'
        '+': '+'
        '-': '-'
        '=': '='
        '[': '['
        ']': ']'
        '{': '{'
        '}': '}'
        '|': '|'
        "\\": '、'
        # "/": "、"
        ';': '；'
        "'": '’'
        ',': '，'
        '.': '。'
        '<': '《'
        '>': '》'
        '?': '？'

key_binder:
    import_preset: default
    bindings:
        - { accept: semicolon, send: 2, when: has_menu } #分号次选

recognizer:
    import_preset: default
    patterns:
        punct: '^/([0-9]0?|[A-Za-z]+)$' # Symbol
        email: '^[A-Za-z][-_.0-9A-Za-z]*@.*$'
        uppercase: "[A-Z][-_+.'0-9A-Za-z]*$"
        html: '^<[a-z]+>$'
        camel: '[a-z]+[A-Z].*$'
        url: '^(www[.]|https?:|ftp[.:]|mailto:|file:).*$|^[a-z]{1,11}[.:_].*$'

custom_phrase:
    dictionary: ''
    user_dict: custom_phrase
    db_class: stabledb
    enable_completion: false
    enable_sentence: true
    initial_quality: 1
