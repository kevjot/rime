# Rime schema
# encoding: utf-8
# symbol_support: fkxxyz/rime-symbols https://github.com/fkxxyz/rime-symbols/

schema:
    schema_id: chinese_pinyin
    name: "æ¼¢èªÂ·å…¨æ‹¼"
    version: "1.0.0"
    author:
        - fkxxyz
    description: |
        ä¿®æ”¹å››å¶è‰æ‹¼éŸ³æ–¹æ¡ˆ
    dependencies:
        - emoji

switches:
    - name: zh_simp_s2t
      reset: 0
      states: [ç®€, ç¹]
    - name: emoji_suggestion
      reset: 1
      states: ["ğŸ˜‘ï¸", "ğŸ˜ï¸"]
    # - name: symbol_support
    #   reset: 1
    #   states: [ "æ— ç¬¦", "ç¬¦" ]
    - name: ascii_punct
      reset: 0
      states: [ã€‚ï¼Œ, ï¼ï¼Œ]
    - name: full_shape
      reset: 0
      states: [åŠ, å…¨]
    - name: ascii_mode
      reset: 0
      states: [ä¸­, è‹±]

engine:
    processors:
        - ascii_composer
        - key_binder
        - speller
        - punctuator
        - selector
        - navigator
        - express_editor
    segmentors:
        - ascii_segmentor
        - matcher
        - abc_segmentor
        - punct_segmentor
        - fallback_segmentor
    translators:
        - punct_translator
        - script_translator
    filters:
        - simplifier@emoji_suggestion
        # - simplifier@symbol_support
        - simplifier
        - uniquifier

simplifier:
    option_name: zh_simp_s2t
    opencc_config: s2t.json

emoji_suggestion:
    opencc_config: emoji.json
    option_name: emoji_suggestion
    tips: all

# symbol_support:
#   opencc_config: symbol.json
#   option_name: symbol_support
#   tips: all

speller:
    alphabet: zyxwvutsrqponmlkjihgfedcba
    delimiter: " '"
    algebra:
        # åŸºç¡€
        - abbrev/^([a-z]).+$/$1/
        - abbrev/^([zcs]h).+$/$1/

        # è¡¥å…¨
        - derive/([dtngkhrzcs])o(u|ng)$/$1o/ # o = ou; o = ong
        - derive/ong$/on/ # on = ong
        - derive/^ding$/din/ # din = ding

        # å¤„ç† v å’Œ u
        - derive/^([nl])ue$/$1ve/ # nve = nue; lve = lue
        - derive/^([jqxy])u/$1v/ # v = u; v = u

        # æ™ºèƒ½çº é”™
        - derive/ao$/oa/ # oa = ao
        - derive/([iu])a(o|ng?)$/a$1$2/ # aio = iao; aing = iang; aung = uang
        - derive/([aeiou])ng$/$1gn/ # gn = ng
        - derive/un$/uen/ # uen = un
        - derive/ui$/uei/ # uei = ui
        - derive/iu$/iou/ # iou = ui
        - derive/tie$/tei/ # tei = tie
        - derive/i$/ii/ # ii = i  # i ä¸å°å¿ƒæŒ‰ä¸¤ä¸‹
        - derive/u$/uu/ # ui = u  # u ä¸å°å¿ƒæŒ‰ä¸¤ä¸‹

translator:
    dictionary: chinese_pinyin
    preedit_format:
        - xform/([nl])v/$1Ã¼/
        - xform/([nl])ue/$1Ã¼e/
        - xform/([jqxy])v/$1u/

punctuator:
    import_preset: symbols
    full_shape:
        "`": "ï½€"
        "~": "ï½"
        "!": "ï¼"
        "@": "ï¼ "
        "#": "ï¼ƒ"
        "$": "ï¿¥"
        "%": "ï¼…"
        "^": "â€¦â€¦"
        "&": "ï¼†"
        "*": "Ã—"
        "(": "ï¼ˆ"
        ")": "ï¼‰"
        "_": "â€”â€”"
        "+": "ï¼‹"
        "-": "ï¼"
        "=": "ï¼"
        "[": "ã€"
        "]": "ã€‘"
        "{": "ï½›"
        "}": "ï½"
        "|": "ï½œ"
        "\\": "ã€"
        "/": "ã€"
        ";": "ï¼›"
        "'": "â€˜"
        ",": "ï¼Œ"
        ".": "ã€‚"
        "<": "ã€Š"
        ">": "ã€‹"
        "?": "ï¼Ÿ"
        "1": "å£¹"
        "2": "è²³"
        "3": "åƒ"
        "4": "è‚†"
        "5": "ä¼"
        "6": "é™¸"
        "7": "æŸ’"
        "8": "æŒ"
        "9": "ç–"
        "0": "é›¶"
        "s": "æ‹¾"
        "b": "ä½°"
        "q": "ä»Ÿ"
        "w": "è¬"
        "n": "å¹´"
        "y": ["æœˆ", "åœ“", "å„„"]
        "r": "æ—¥"
        "x": "æ˜ŸæœŸ"
        "j": "è§’"
        "f": "åˆ†"
        "z": ["ä¹‹", "æ•´"]
        "d": "ç¬¬"
        "h": "è™Ÿ"
    half_shape:
        "`": "Â·"
        "~": "ï½"
        "!": "ï¼"
        "@": "@"
        "#": "#"
        "$": "ï¿¥"
        "%": "%"
        "^": "â€¦â€¦"
        "&": "&"
        "*": "Ã—"
        "(": "ï¼ˆ"
        ")": "ï¼‰"
        "_": "â€”â€”"
        "+": "+"
        "-": "-"
        "=": "="
        "[": "ã€"
        "]": "ã€‘"
        "{": "ï½›"
        "}": "ï½"
        "|": "ï½œ"
        "\\": "ã€"
        "/": "ã€"
        ";": "ï¼›"
        "'": "â€™"
        ",": "ï¼Œ"
        ".": "ã€‚"
        "<": "ã€Š"
        ">": "ã€‹"
        "?": "ï¼Ÿ"

key_binder:
    import_preset: default
    # bindings:
    #   __patch:
    #     - key_bindings:/emacs_editing  # emacs ä¹ æƒ¯
    #     - key_bindings:/move_by_word_with_tab  # tab åœ¨å•è¯é—´åˆ‡æ¢
    #     - key_bindings:/paging_with_minus_equal  # å‡å·ç­‰å·ç¿»é¡µ
    #     - key_bindings:/paging_with_comma_period   # é€—å·å¥å·ç¿»é¡µ
    #     - key_bindings:/paging_with_brackets   # ä¸­æ‹¬å·ç¿»é¡µ
    #     - clover.key_bindings:/numbered_mode_switch   # Ctrl+Shift+æ•°å­— åˆ‡æ¢å¼€å…³
    #     - clover.key_bindings:/windows_compatible_mode_switch   # Windows å…¼å®¹
    #     - clover.key_bindings:/kp_enter_is_return   # å°é”®ç›˜å›è½¦è®¾ä¸ºæ™®é€šå›è½¦

ascii_composer:
    import_preset: default
    # good_old_caps_lock: true
    # switch_key:
    #   Shift_L: commit_code   # å·¦ Shift åˆ‡æ¢ç›´æ¥ä¸Šå±å­—æ¯
    #   Shift_R: commit_code   # å³ Shift åˆ‡æ¢ç›´æ¥ä¸Šå±å­—æ¯
    #   Control_L: noop
    #   Control_R: noop
    #   Caps_Lock: noop
    #   Eisu_toggle: clear

    # åæŸ¥é…ç½®ï¼Œè‹¥éœ€è¦åæŸ¥ï¼Œåˆ™åæ³¨é‡Š reverse_lookup å—
    # reverse_lookup:
    #   # åæŸ¥è©å…¸è¨­å®š
    #   dictionary: chinese_liangfen
    #   # æå‰é¡¯ç¤ºå°šæœªè¼¸å…¥å®Œæ•´ç¢¼çš„å­—ã€”åƒ… table_translator æœ‰æ•ˆã€•
    #   enable_completion: true
    #   # å‰ç¶´
    #   prefix: "`"
    #   # å¾Œç¶´
    #   suffix: "'"
    #   # é–‹å§‹æç¤ºç¬¦
    #   tips: ã€”ä¸¤åˆ†ã€•
    #   # ä¸Šå±ç¢¼æ ¼
    #   preedit_format:
    #     - xlit/hspnz/ä¸€ä¸¨ä¸¿ä¸¶ä¹™/
    #   # æç¤ºç¢¼æ ¼å¼
    #   comment_format:
    #     - xform/([nl])v/$1Ã¼/

recognizer:
    patterns:
        punct: "^/([0-9]0?|[A-Za-z]+)$"
        # reverse_lookup: "`[a-z]*'?$" # åæŸ¥

    # è‡ªå®šä¹‰è¯åº“
# custom_phrase:
#     dictionary: ""
#     user_dict: custom_phrase
#     db_class: stabledb
#     enable_completion: false
#     enable_sentence: false
#     initial_quality: 1
# "engine/translators/@5": table_translator@custom_phrase

# # Rx: BlindingDark/rime-easy-en:customize:schema=double_pinyin_flypy
# __include: easy_en:/patch
# easy_en/enable_sentence: false
# # Rx: lotem/rime-octagram-data:customize:schema=luna_pinyin,model=hans
# # __include: grammar:/hant
# # Rx: BlindingDark/rime-lua-select-character:customize:schema=luna_pinyin
# # __include: lua_select_character:/patch #éœ€è¦ä»¥è¯å®šå­—æ’ä»¶æ‰“å¼€æœ¬è¡Œæ³¨é‡Š
